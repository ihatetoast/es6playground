<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Promises</title>
</head>
<body>
	<script>
		// console.log('going to fetch data from wes bos blog');
		// //store as a promise so what happens is more logical 
		// const postsPromise=fetch('http://swapi.co/api/');
		// postsPromise
		// 	.then(data=> data.json())
		// 	.then(data => {console.log(data)})
		// 	.catch((err)=>{
		// 		console.error(err);
		// 	})

		// console.log('Done!');
		// console.log(postsPromise);

		// //build your own:
		// const p = new Promise((resolve, reject) => {
		// 	resolve({first: "Katy", last: "Greaty"});
		// });
		// p
		// 	.then(data => {
		// 		setTimeout(()=>{
		// 			console.log(data);
		// 		}, 5000);
		// 	})
		// 	.catch()

		const posts = [
    { title: 'I love JavaScript', author: 'Wes Bos', id: 1 },
    { title: 'CSS!', author: 'Chris Coyier', id: 2 },
    { title: 'Dev tools tricks', author: 'Addy Osmani', id: 3 },
  ];
  const authors = [
    { name: 'Wes Bos', twitter: '@wesbos', bio: 'Canadian Developer' },
    { name: 'Chris Coyier', twitter: '@chriscoyier', bio: 'CSS Tricks and CodePen' },
    { name: 'Addy Osmani', twitter: '@addyosmani', bio: 'Googler' },
  ];

  function getPostById(id){
  	return new Promise((resolve, reject)=>{
  		//settimeout to simulate a slower fetch
  		setTimeout(() =>{
				const post = posts.find(post => post.id === id);
	  		if (post){
	  			resolve(post);
	  		} else {
	  			reject(Error("Oh noes."))
	  		}
  		}, 200);

  	});
  }

  getPostById(4)
  	.then(post=> {
  		console.log(post);
  	})
	</script>
</body>
</html>